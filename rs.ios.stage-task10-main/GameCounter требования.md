# Task — GameCounter

## Описание

В рамках задачи реализуется приложение для подсчета очков в настольной игре с сохранением прогресса игры между перезапусками приложения.

Приложение является упрощенной версией программы Games Keeper.

**Макет**: [https://www.figma.com/file/smjp90zz9f6TJqLjB9tnpB/Game-counter-%E2%80%94-RS.School](https://www.figma.com/file/smjp90zz9f6TJqLjB9tnpB/Game-counter-%E2%80%94-RS.School)

**Games Keeper**: [https://apps.apple.com/ru/app/games-keeper/id674138310#?platform=iphone](https://apps.apple.com/ru/app/games-keeper/id674138310#?platform=iphone)

**Общие требования:**

- Язык программирования Swift
- Верстка UI только в коде. Использовать UIKit
- Использовать сторонние библиотеки запрещено
- Минимальная версия iOS 12.1

---

## Экран **New game**

### Описание

Это стартовый экран. На нам можно добавить новых игроков и задать их очередность.

### **Элементы**

- Кнопка Cancel — отображается, когда переход на экран произошел с другого экрана. При **самом первом запуске** ее нет.
- Заголовок Game Counter
- Таблица с игроками:
    - добавление нового игрока по нажатию на кнопку Add player
        - при нажатии на кнопку Add player открывается экран Add Player
    - удаление игрока по нажатию на иконку удаления
    - сменить их очередность — долгий тап на иконке сортировки и перетаскивание ячейки (БОНУСНОЕ ЗАДАНИЕ, не влияет на итоговую оценку)
- Кнопка Start game — открывает экран Game Process. Если таблица с игроками пуста, то кнопка неактивна

---

## Экран **Add Player**

### Описание

На экране можно ввести имя игрока и сохранить его в общую таблицу игроков.

### **Элементы**

- Кнопка Back — возврат на предыдущий экран без добавления игрока в таблицу
- Кнопка Add — добавить нового игрока в таблицу и вернутся на предыдущий экран
- Заголовок Add Player
- Текстовое поле:
    - при открытии экрана сразу устанавливать фокус на текстовое поле
    - сообщение при пустом вводе: Player Name
    - если в поле отсутствуют введённые символы, тогда кнопка Add неактивна

---

## Экран **Game Process**

### Описание

Экран показывает очередность ходов и текущий счет в игре.  

Переключить текущего игрока можно:

- изменив количество очков у текущего игрока
- нажав на кнопку перехода хода
- свайпнув по ячейке игрока

### **Элементы**

**Хедер**

- Кнопка New game — открывает экран New game в виде модального окна
- Кнопка Results — открывает экран Results
- Заголовок Game
- Кнопка Roll — открывает экран Roll, сопровождая это вибрацией устройства

**Таймер**

- Лейбл со временем, которое прошло с начала хода
- Кнопка Pause/Resume — останавливает и запускает таймер соответственно

**Текущий игрок — горизонтальная CollectionView**

- Имя текущего игрока
- Количество очков у текущего игрока

**Управление счетом**

- Кнопки изменения очков:
    - при нажатии на кнопку количество очков у текущего игрока изменяется на значение, соответствующее нажатой кнопке, после этого ход переходит к следующему игроку
- Кнопки перехода хода следующему игроку без изменения счета
- Кнопка возврата хода к предыдущему игроку без изменения счета
- Минибар с первой буквой имени всех игроков. Указывает на текущего игрока
- Кнопка Undo — вернуть ход предыдущему игроку и отменить изменения его счета за предыдущий ход

### Сохранение состояния

Если пользователь закрыл приложение (состояние `not running`) в момент, когда была активна игровая сессия, тогда все данные, связанные с этой игровой сессией, должны быть сохранены. При следующем запуске приложения открывается экран Game Process, на котором отображаются восстановленные данные из последней игровой сессии (вплоть до хода текущего игрока и времени на таймере). Таймер должен быть запущен. 

---

## Экран **Roll**

### Описание

Открывается при нажатии на кнопку Roll, показывает рандомный дайс от 1 до 6. Фон экрана заблюрен. При нажатии на экран происходит переход на экран Game Process

---

## Экран **Result**

### Элементы

**Хедер**

- Кнопка New game — открывает экран New game
- Кнопка Resume — возвращает на экран Game Process
- Заголовок Results

**Результаты**

- Текущий счет по всем игрокам. Сортировка результатов производится по счёту игроков. В случае равного счёте результаты сортируются по алфавиту
- Таблица со всеми изменениями счета за текущий период

---

## Чек-лист для оценки

- Вёрстка норм
- Экран с результатами можно просмотреть полностью, вне зависимости от количества игроков и ходов
- Таймер не слетает при переходах между экранами
- Данные результатов корректно отображаются на экранах (нет рассинхронизации в значениях)
- Весь функционал, связанный с изменением счёта, работает согласно требованиям
- Добавление/удаление игроков работает согласно требованиям
- Нет такого, чтобы в процессе пользования приложением где-то на заднем плане висели экраны, к которым никак нельзя вернуться
- Данные игровой сессии сохраняются между холодными запусками приложения
- Состояние игровой сессии корректно восстанавливается из сохранённых данных (между запусками нет различий в очерёдности хода, результатах, активных игроках и т.п.)
- Есть какие-то фишки от себя, которые не были описаны в требованиях и которые гармонично вписываются в концепцию приложения